function MainRouter(e,t){e.state("home",{url:"/",templateUrl:"views/home.html"}).state("login",{url:"/login",templateUrl:"views/login.html"}).state("register",{url:"/register",templateUrl:"views/register.html"}),t.otherwise("/")}function User(e,t){return e(t+"/users/:id",null,{login:{method:"POST",url:t+"/login"},register:{method:"POST",url:t+"/register"},query:{method:"GET",isArray:!0,transformResponse:function(e){return angular.fromJson(e)}}})}function UserController(e,t){function n(e){var t=e.token?e.token:null;t&&r.getUsers(),r.message=e.message}var r=this;r.allUsers=[],r.user={},r.login=function(){e.login(r.user,n)},r.register=function(){e.register(r.user,n)},r.logout=function(){t.removeToken(),r.allUsers=[],r.user={}},r.getUsers=function(){console.log(e.query()),r.allUsers=e.query()},r.isLoggedIn=function(){return!!t.getToken()},r.isLoggedIn()&&(r.getUsers(),r.user=t.getUser())}function AuthInterceptor(e,t){return{request:function(n){var r=t.getToken();return n.url.match(e)&&r&&(n.headers.Authorization="Bearer "+r),n},response:function(n){return n.config.url.match(e)&&n.data.token&&t.saveToken(n.data.token),n}}}function TokenService(e,t){var n=this;n.saveToken=function(t){e.localStorage.setItem("token",t)},n.getToken=function(){return e.localStorage.getItem("token")},n.removeToken=function(){e.localStorage.removeItem("token")},n.getUser=function(){var e=n.getToken();return t.decodeToken(e)}}angular.module("GetARoundApp",["angular-jwt","ngResource","ui.router"]).constant("API","http://localhost:3000/api").config(function(e){e.interceptors.push("AuthInterceptor")}).config(MainRouter),angular.module("GetARoundApp").factory("User",User),User.$inject=["$resource","API"],angular.module("GetARoundApp").controller("usersController",UserController),UserController.$inject=["User","TokenService"],angular.module("GetARoundApp").factory("AuthInterceptor",AuthInterceptor),AuthInterceptor.$inject=["API","TokenService"],angular.module("GetARoundApp").service("TokenService",TokenService),TokenService.$inject=["$window","jwtHelper"],function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t="drawer",n="undefined"!=typeof document.ontouchstart,r={init:function(n){return n=e.extend({iscroll:{mouseWheel:!0,preventDefault:!1},showOverlay:!0},n),r.settings={state:!1,events:{opened:"drawer.opened",closed:"drawer.closed"},dropdownEvents:{opened:"shown.bs.dropdown",closed:"hidden.bs.dropdown"}},r.settings["class"]=e.extend({nav:"drawer-nav",toggle:"drawer-toggle",overlay:"drawer-overlay",open:"drawer-open",close:"drawer-close",dropdown:"drawer-dropdown"},n["class"]),this.each(function(){var o=this,s=e(this),i=s.data(t);i||(n=e.extend({},n),s.data(t,{options:n}),r.refresh.call(o),n.showOverlay&&r.addOverlay.call(o),e("."+r.settings["class"].toggle).on("click."+t,function(){return r.toggle.call(o),o.iScroll.refresh()}),e(window).resize(function(){return r.close.call(o),o.iScroll.refresh()}),e("."+r.settings["class"].dropdown).on(r.settings.dropdownEvents.opened+" "+r.settings.dropdownEvents.closed,function(){return o.iScroll.refresh()}))})},refresh:function(){this.iScroll=new IScroll("."+r.settings["class"].nav,e(this).data(t).options.iscroll)},addOverlay:function(){var t=e(this),n=e("<div>").addClass(r.settings["class"].overlay+" "+r.settings["class"].toggle);return t.append(n)},toggle:function(){var e=this;return r.settings.state?r.close.call(e):r.open.call(e)},open:function(){var o=e(this);return n&&o.on("touchmove."+t,function(e){e.preventDefault()}),o.removeClass(r.settings["class"].close).addClass(r.settings["class"].open).css({overflow:"hidden"}).drawerCallback(function(){r.settings.state=!0,o.trigger(r.settings.events.opened)})},close:function(){var o=e(this);return n&&o.off("touchmove."+t),o.removeClass(r.settings["class"].open).addClass(r.settings["class"].close).css({overflow:"auto"}).drawerCallback(function(){r.settings.state=!1,o.trigger(r.settings.events.closed)})},destroy:function(){return this.each(function(){var n=e(this);e(window).off("."+t),n.removeData(t)})}};e.fn.drawerCallback=function(t){var n="transitionend webkitTransitionEnd";return this.each(function(){var r=e(this);r.on(n,function(){return r.off(n),t.call(this)})})},e.fn.drawer=function(n){return r[n]?r[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery."+t):r.init.apply(this,arguments)}});